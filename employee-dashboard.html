<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>Employee Dashboard</title>
		<script src="https://cdn.tailwindcss.com"></script>
		<style>
			/* Mobile responsiveness for the sidebar */
			@media (max-width: 768px) {
				aside {
					width: 100%;
					height: auto;
					position: fixed;
					bottom: 0;
					left: 0;
					right: 0;
					z-index: 10;
					padding: 1rem;
				}
				aside nav ul {
					display: flex;
					justify-content: space-around;
				}
				aside nav li {
					margin-bottom: 0;
				}
				aside nav a {
					text-align: center;
					padding: 0.5rem;
				}
				main {
					margin-bottom: 80px; /* Adjust based on footer height */
				}
			}
		</style>
	</head>
	<body class="bg-gray-100 font-sans">
		<div
			class="flex h-screen"
			id="employee-dashboard-container">
			<!-- Employee Navigation -->
			<div id="employeenav-placeholder"></div>

			<!-- Main content area -->
			<div
				id="employee-page-content"
				class="flex-1 p-8 overflow-y-auto">
				<!-- Content will be loaded here -->
			</div>
		</div>

		<script>
			// Basic Authentication
			const isAuthenticated = localStorage.getItem("authenticated");
			if (!isAuthenticated) {
				const password = prompt(
					"Please enter the password to access the Employee Dashboard:"
				);
				if (password === "admin") {
					// Replace with a more secure method in production
					localStorage.setItem("authenticated", "true");
				} else {
					alert(
						"Incorrect password. You will be redirected to the home page."
					);
					window.location.href = "index.html";
				}
			}

			// Load components
			fetch("components/employeenav.html")
				.then((response) => response.text())
				.then((data) => {
					document.getElementById("employeenav-placeholder").innerHTML =
						data;
				});

			// Function to load employee pages
			const loadEmployeePage = (page) => {
				fetch(`pages/${page}`)
					.then((response) => response.text())
					.then((data) => {
						document.getElementById("employee-page-content").innerHTML =
							data;
					})
					.catch((error) => {
						console.error("Error loading employee page:", error);
						document.getElementById("employee-page-content").innerHTML =
							'<p class="text-red-500">Error loading page.</p>';
					});
			};

			// Load the default employee dashboard home page on initial load
			document.addEventListener("DOMContentLoaded", () => {
				loadEmployeePage("employee-dashboard-home.html");
			});
		</script>
	</body>
</html>
